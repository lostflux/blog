<template>
  <section id="contact" class="contact-section">
    <h2 class="numbered-heading overline"> What's Next?</h2>
    <ContentDoc :value="contact" />
    <a
      :href="`mailto:${ contact.email }`"
      class="email-link"
    >
      Email
    </a>
  </section>
</template>

<script lang="ts" setup>

import { MarkdownParsedContent } from '@nuxt/content/dist/runtime/types';

const { data: contact } = await useAsyncData(
  `contact-${useRoute().path}`,
  async () => {
    const _contactData = queryContent<MarkdownParsedContent>("profile")
      .where( { category: "contact" } )
      .findOne();
    return await _contactData;
});
</script>

<style lang="sass">
@use "~/styles/mixins"
@use "~/styles/typography"
@use "~/styles/colors"

.contact-section
  max-width: 600px
  margin: 0 auto //100px remove bottom margin
  text-align: center

  @media (max-width: 768px) 
    margin: 0 auto 50px
  
  .overline 
    display: block
    margin-bottom: 20px
    color: colors.color("green")
    font-family: typography.font("font-mono")
    font-size: typography.font-size("m")
    font-weight: 400
    text-decoration: none
    // background-color: yellow
    
    &:before 
      bottom: 0
      font-size: typography.font-size("s")
    
    &:after 
      display: none
    
  
  // .title
  * > h2
    font-size: clamp(40px, 5vw, 60px)
    font-weight: 600
  
  .email-link
    @include mixins.big-button
    margin-top: 50px
  
</style>
