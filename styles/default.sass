@use "colors"
@use "typography"
@use "theme"
@use "mixins"
@use "geometry"

@use "transitions"

html
  box-sizing: border-box
  width: 100%
  scroll-behavior: smooth

*, *:before, *:after
  box-sizing: inherit

::selection
  background-color: colors.color("lightest-background")
  color: colors.color("lightest-foreground")


/* Provide basic, default focus styles.*/
:focus
  outline: 2px dashed colors.color("primary-highlight")
  outline-offset: 3px

/*
  * Remove default focus styles for mouse users ONLY if
  * :focus-visible is supported on this platform. */
:focus:not(:focus-visible) 
  outline: none
  outline-offset: 0px

/*
  Optionally: If :focus-visible is supported on this
  platform, provide enhanced focus styles for keyboard
  focus. */
:focus-visible 
  outline: 2px dashed colors.color("primary-highlight")
  outline-offset: 3px

/* Scrollbar Styles */
html 
  scrollbar-width: thin
  scrollbar-color: colors.color("dark-foreground") colors.color("background")

::-webkit-scrollbar 
  width: 12px

::-webkit-scrollbar-track 
  background: colors.color("background")

::-webkit-scrollbar-thumb 
  background-color: colors.color("dark-foreground")
  border: 3px solid colors.color("background")
  border-radius: 10px

body
  
  /////// INITIALIZE COUNTERS
  counter-reset: sections items
  
  margin: 0
  width: 100%
  // min-height: 100%
  overflow-x: hidden
  -moz-osx-font-smoothing: grayscale
  -webkit-font-smoothing: antialiased
  background-color: colors.color("background")
  color: colors.color("foreground")
  font-family: typography.font("sans-serif")
  font-size: typography.font-size("xl")
  line-height: 1.3
  @media (max-width: 480px) 
    font-size: typography.font-size("l")
  
  // &.hidden 
  //   overflow: hidden
  
  &.blur 
    overflow: hidden
    header 
      background-color: transparent
    
    #content > * 
      filter: blur(5px) brightness(0.7)
      transition: geometry.var("default-transition")
      pointer-events: none
      user-select: none
    
#root
  display: flex
  flex-direction: column

  min-height: 100vh

  .default-footer
    align-self: flex-end

:root
  min-height: 100vh
  display: grid
  grid-template-rows: 1fr auto
  grid-template-columns: 100%

main
  margin: 0 auto
  width: 100%
  max-width: 1300px
  height: max-content
  padding: 0 clamp(0.5em, 3vw, 3em)
  
  &.fill-height 
    padding: 0 150px
    
    @media (max-width: 1080px) 
      padding: 0 100px
    
    @media (max-width: 768px) 
      padding: 0 50px
    
    @media (max-width: 480px) 
      padding: 0 25px
    
  

section 
  margin: 0 auto
  padding: 100px 30px   // fix hero section.
  max-width: 1000px

  @media (max-width: 768px) 
    padding: 80px 0
  
  @media (max-width: 480px) 
    padding: 60px 0

  &.footnotes
    margin-top: 20px
    margin-bottom: 20px
    border-top: 1px solid colors.color("lightest-background")
    padding-top: 3em !important
    padding-bottom: 0
      
    #footnote-label
      color: colors.color("secondary-highlight")


h1, h2, h3, h4, h5, h6 
  margin: 0 0 10px 0
  font-weight: 600
  color: colors.color("lightest-foreground")
  line-height: 1.1

.big-heading 
  margin: 0
  font-size: clamp(40px, 8vw, typography.font-size("big-heading"))

.medium-heading 
  margin: 0
  font-size: clamp(40px, 8vw, 60px)

.numbered-heading 
  display: flex
  align-items: center
  position: relative
  margin: 10px 0 40px
  width: 100%
  font-size: clamp(26px, 5vw, typography.font-size("heading"))
  white-space: nowrap
  
  &::before
    content: '0' counter(sections) '.'
    counter-increment: sections

    position: relative
    margin-right: 0.5em
    margin-bottom: 0.5em

    color: colors.color("primary-highlight")
    font-family: typography.font("monospace")
    font-size: typography.font-size("xl")
    font-weight: 400
    
  
  &::after 
    content: ''
    position: relative
    margin: auto
    width: 100%
    height: 1px
    margin-left: 0.5em
    background: colors.color("lightest-background")
    
  

img, svg, .image-wrapper 
  width: 100%
  max-width: 100%
  vertical-align: middle

img[alt=""], img:not([alt]) 
  filter: blur(5px)

// svg 
//  width: 100%
//  height: 100%
//  fill: currentcolor
//  vertical-align: middle
//  stroke-width: 3px
  

a 
  display: inline-block
  text-decoration: none
  text-decoration-skip-ink: auto
  color: inherit
  position: relative
  transition: geometry.var("default-transition")

  &:hover, &:focus 
    color: colors.color("primary-highlight")
  
  &.inline-link 
    @include mixins.inline-link
  

button 
  cursor: pointer
  border: 0
  border-radius: 0

input, textarea 
  border-radius: 0
  outline: 0

  &:focus 
    outline: 0
  
  &:focus,
  &:active 
    &::placeholder 
      opacity: 1
    
  

p 
  margin: 0 0 15px 0

  &:last-child, &:last-of-type 
    margin: 0
  
  & > a 
    @include mixins.inline-link
  
  // & > code 
  //   background-color: colors.color("light-background")
  //   color: colors.color("white")
  //   font-size: typography.font-size("s")
  //   border-radius: geometry.var("border-radius")
  //   padding: 0.3em 0.5em
  

// ul
//   &.styled-list 
//     padding: 0
//     margin: 0
//     list-style: none
//     font-size: typography.font-size("l")


//     li 
//       position: relative
//       padding-left: 30px
//       margin-bottom: 10px

//       &:before 
//         content: 'â–¹'
//         position: absolute
//         left: 0
//         color: colors.color("primary-highlight")
      
.styled-content
  display: flex
  flex-direction: column
  min-height: 100vh

blockquote 
  border-left-color: colors.color("primary-highlight")
  border-left-style: solid
  border-left-width: 1px
  margin-left: 0px
  margin-right: 0px
  padding-left: 1.5rem

  p 
    font-style: italic
    font-size: 24px
  

hr 
  background-color: colors.color("lightest-background")
  height: 1px
  border-width: 0px
  border-style: initial
  border-color: initial
  border-image: initial
  margin: 1rem

code 
  font-family: typography.font("monospace")
  font-size: typography.font-size("m")

.skip-to-content 
  @include mixins.button
  position: absolute
  top: auto
  left: -999px
  width: 1px
  height: 1px
  overflow: hidden
  z-index: -99


  &:focus, &:active 
    background-color: colors.color("primary-highlight")
    color: colors.color("background")
    top: 0
    left: 0
    width: auto
    height: auto
    overflow: auto
    z-index: 99
  

.logo
  color: colors.color("primary-highlight")

.overline 
  color: colors.color("primary-highlight")
  font-family: typography.font("monospace")
  font-size: typography.font-size("m")
  font-weight: 400

.subtitle 
  color: colors.color("primary-highlight")
  margin: 0 0 20px 0
  font-size: typography.font-size("m")
  font-family: typography.font("monospace")
  font-weight: 400
  line-height: 1.5

  @media (max-width: 1080px) 
    font-size: typography.font-size("s")
  
  @media (max-width: 768px) 
    font-size: typography.font-size("xs")
  
  a 
    @include mixins.inline-link
    line-height: 1.5
  

.breadcrumb 
  display: flex
  align-items: center
  margin-bottom: 50px
  color: colors.color("primary-highlight")


  .arrow 
    display: block
    margin-right: 10px
    padding-top: 4px
  
  a 
    @include mixins.inline-link
    font-family: typography.font("monospace")
    font-size: typography.font-size("s")
    font-weight: 600
    line-height: 1.5
    text-transform: uppercase
    letter-spacing: 0.1em
  

.image-outer-wrapper 
  height: 100%

.fancy-background
  @include mixins.fancy-background
























/////////////////////////////////////////////////////////////
  
/** All about transitions */
/* Fade up */
.fadeup-enter-from
  opacity: 0.01
  transform: tranforegroundY(20px)
  transition: opacity 300ms geometry.var("easing"), transform 300ms geometry.var("easing")

.fadeup-enter-to
  opacity: 1
  transform: tranforegroundY(0px)
  transition: opacity 300ms geometry.var("easing"), transform 300ms var("easing")

/* Fade down */
.fadedown-enter-from
  opacity: 0.01
  transform: tranforegroundY(-20px)
  transition: opacity 300ms geometry.var("easing"), transform 300ms geometry.var("easing")

.fadedown-enter-to
  opacity: 1
  transform: tranforegroundY(0px)
  transition: opacity 300ms geometry.var("easing"), transform 300ms geometry.var("easing")

/* Fade */
.fade-enter-from
  opacity: 0

.fade-enter-to
  opacity: 1
  transition: opacity 0.3s geometry.var("easing")

.fade-leave-from
  opacity: 1

.fade-leave-to
  opacity: 0
  transition: opacity 0.3s geometry.var("easing")
